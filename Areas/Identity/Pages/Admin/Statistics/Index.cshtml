@page
@model MovieTheater.Areas.Identity.Pages.Admin.Statistics.IndexModel

@{
    ViewBag.Title = "Admin";
}
<script src="~/js/canvasjs.min.js" type="text/javascript"></script>
<script src="~/js/Statistics/Statistics.js" type="text/javascript"></script>


<h1>Thống kê</h1>
<hr>
<form>
    <div class="form-inline mb-3">
        Phim: <select asp-for="Movie" asp-items="Model.MovieList" class="form-control">
            <option value="">Tất cả</option>
        </select>
        Tháng: <select asp-for="Month" asp-items="Model.MonthList" class="form-control">
            <option value="">Tất cả</option>
        </select>
        Năm: <select asp-for="Year" asp-items="Model.YearList" class="form-control">
            <option value="">Tất cả</option>
        </select>
        <input type="submit" value="Lọc" class="btn btn-primary" />
    </div>
</form>
<div>
    <dl class="row">
        <dt class="col-sm-2" >
            <h3>Vé 2D</h3>
        </dt>
		@if ( Model.Statistic2D.Any() )
		{
			foreach (var item in Model.Statistic2D)
			{
				<input type="hidden" asp-for="@item.Title" name="2DMovieTitle" />
				<input type="hidden" asp-for="@item.TotalMoney" name="2DMovieTotalMoney"/>
			}
		}
        <dd class="col-sm-10">
            <div class="card">
                <div class="card-header">
                    <h4 style="float:left">Tổng số lượng vé:</h4>
                    <h4 style="float:right">@Model.getTotalTickets(@Model.Statistic2D)</h4>
                </div>
                <div class="card-body">
                    <div id="chart2DTicketContainer" style="height: 370px; max-width: 920px; margin: 0px auto;">

                    </div>
                </div>
                <div class="card-footer">
                    <h4 style="float:left">Tổng số tiền:</h4>
                    <h4 style="float:right" id="total-money-2D">@Model.getTotalMoney(@Model.Statistic2D)</h4>
                </div>
            </div>
        </dd>
		
		<dt class="col-sm-2 mt-5">
            <h3>Vé 3D</h3>
        </dt>
		@if ( Model.Statistic3D.Any() )
		{
			foreach (var item in Model.Statistic3D)
			{
				<input type="hidden" asp-for="@item.Title" name="3DMovieTitle" />
				<input type="hidden" asp-for="@item.TotalMoney" name="3DMovieTotalMoney"/>
			}
		}
        <dd class="col-sm-10 mt-5">
            <div class="card">
                <div class="card-header">
                    <h4 style="float:left">Tổng số lượng vé:</h4>
                    <h4 style="float:right">@Model.getTotalTickets(@Model.Statistic3D)</h4>
                </div>
                <div class="card-body">
                    <div id="chart3DTicketContainer" style="height: 370px; max-width: 920px; margin: 0px auto;">

                    </div>
                </div>
                <div class="card-footer">
                    <h4 style="float:left">Tổng số tiền:</h4>
                    <h4 style="float:right" id="total-money-3D">@Model.getTotalMoney(@Model.Statistic3D)</h4>
                </div>
            </div>
        </dd>

		<dt class="col-sm-2 mt-5">
            <h3>Vé 4DX</h3>
        </dt>
		@if ( Model.Statistic4DX.Any() )
		{
			foreach (var item in Model.Statistic4DX)
			{
				<input type="hidden" asp-for="@item.Title" name="4DXMovieTitle" />
				<input type="hidden" asp-for="@item.TotalMoney" name="4DXMovieTotalMoney"/>
			}
		}
        <dd class="col-sm-10 mt-5">
            <div class="card">
                <div class="card-header">
                    <h4 style="float:left">Tổng số lượng vé:</h4>
                    <h4 style="float:right">@Model.getTotalTickets(@Model.Statistic4DX)</h4>
                </div>
                <div class="card-body">
                    <div id="chart4DXTicketContainer" style="height: 370px; max-width: 920px; margin: 0px auto;">

                    </div>
                </div>
                <div class="card-footer">
                    <h4 style="float:left">Tổng số tiền:</h4>
                    <h4 style="float:right" id="total-money-4DX">@Model.getTotalMoney(@Model.Statistic4DX)</h4>
                </div>
            </div>
        </dd>
    </dl>
</div>
